# main.py

class Content:
    def __init__(self, title, kind, genre, rating, comment):
        self.title = title
        self.kind = kind
        self.genre = genre
        self.rating = rating
        self.comment = comment

    def show_info(self):
        return f"{self.title} [{self.kind}/{self.genre}] - ì¶”ì²œë„: {self.rating}/5\nâ†’ {self.comment}"


class RecommendationList:
    def __init__(self):
        self.contents = []

    def add_content(self, content):
        self.contents.append(content)

    def recommend(self, kind, genre):
        found = False
        print(f"\nğŸ¯ '{kind}' ì¥ë¥´ '{genre}' ì¶”ì²œ ì½˜í…ì¸ :")
        for content in self.contents:
            if content.kind.lower() == kind.lower() and content.genre.lower() == genre.lower():
                print(content.show_info(), "\n")
                found = True
        if not found:
            print("ğŸ˜¥ í•´ë‹¹ ì¡°ê±´ì— ë§ëŠ” ì½˜í…ì¸ ëŠ” ì•„ì§ ì—†ì–´ìš”!")

    def show_all_kinds(self):
        kinds = set(content.kind for content in self.contents)
        print("\nğŸ ì„ íƒ ê°€ëŠ¥í•œ ì½˜í…ì¸  ì¢…ë¥˜:")
        for k in sorted(kinds):
            print(f"- {k}")

    def show_genres_by_kind(self, kind):
        genres = set(content.genre for content in self.contents if content.kind.lower() == kind.lower())
        if genres:
            print(f"\nğŸ“š '{kind}'ì—ì„œ ì„ íƒ ê°€ëŠ¥í•œ ì¥ë¥´:")
            for g in sorted(genres):
                print(f"- {g}")
        else:
            print("ğŸ˜¢ ì•„ì§ í•´ë‹¹ ì¢…ë¥˜ì˜ ì½˜í…ì¸ ê°€ ì—†ì–´ìš”.")

    def show_five_star_contents(self):
        print("\nğŸŒŸ ë³„ì  5ì ì§œë¦¬ ì½˜í…ì¸  ëª©ë¡:")
        count = 0
        for content in self.contents:
            if content.rating == 5:
                print(content.show_info(), "\n")
                count += 1
        if count == 0:
            print("ë³„ì  5ì ì§œë¦¬ ì½˜í…ì¸ ê°€ ì•„ì§ ì—†ì–´ìš”.")

    def show_all_contents(self):
        print("\nğŸ“š ì €ì¥ëœ ëª¨ë“  ì½˜í…ì¸  ëª©ë¡:")
        for content in self.contents:
            print(content.show_info(), "\n")

    def content_count(self):
        print(f"\nğŸ“Š í˜„ì¬ ì €ì¥ëœ ì½˜í…ì¸  ê°œìˆ˜: {len(self.contents)}ê°œ")


def main():
    rec_list = RecommendationList()

    # ê¸°ë³¸ ì½˜í…ì¸ 
    rec_list.add_content(Content("ë„ˆì˜ ì´ë¦„ì€", "ì• ë‹ˆë©”ì´ì…˜", "ë¡œë§¨ìŠ¤", 5, "ê·¸ë¦¼ë„ ìŒì•…ë„ ì™„ë²½í•´ìš”..."))
    rec_list.add_content(Content("ì´íƒœì› í´ë¼ì“°", "ë“œë¼ë§ˆ", "ì²­ì¶˜", 4, "ë„ì „ê³¼ ì„±ì¥ ì´ì•¼ê¸°!"))
    rec_list.add_content(Content("ìœ ë¯¸ì˜ ì„¸í¬ë“¤", "ì›¹íˆ°", "ì¼ìƒ", 4, "ê³µê° ê°€ë“! ì„¸í¬ë“¤ ê·€ì—¬ì›Œìš”"))
    rec_list.add_content(Content("ëª…íƒì • ì½”ë‚œ", "ì• ë‹ˆë©”ì´ì…˜", "ì¶”ë¦¬", 5, "ì˜ì›íˆ ëë‚˜ì§€ ì•Šì•„ë„ ì¢‹ì•„ìš”"))
    rec_list.add_content(Content("ê·¹ì¥íŒ ì£¼ìˆ íšŒì „0", "ì• ë‹ˆë©”ì´ì…˜", "í˜¸ëŸ¬", 4, "ì•¡ì…˜ê³¼ ê¸´ì¥ê° ë„˜ì¹˜ëŠ” ìŠ¤í† ë¦¬"))
    rec_list.add_content(Content("ë¼ë¼ëœë“œ", "ì˜í™”", "ë¡œë§¨ìŠ¤", 5, "ìŒì•…ê³¼ ê°ì •ì„ ì´ ì˜ˆìˆ ì´ì—ìš”"))

    print("ğŸ¬ ì·¨ë¯¸ ì½˜í…ì¸  ì¶”ì²œê¸°ì— ì˜¤ì‹  ê±¸ í™˜ì˜í•©ë‹ˆë‹¤!")

    while True:
        print("\nğŸ›  ì›í•˜ì‹œëŠ” ë©”ë‰´ë¥¼ ì„ íƒí•˜ì„¸ìš”:")
        print("1. ì½˜í…ì¸  ì¶”ì²œ ë°›ê¸°")
        print("2. ë³„ì  5ì ì§œë¦¬ ì½˜í…ì¸  ë³´ê¸°")
        print("3. ìƒˆë¡œìš´ ì½˜í…ì¸  ì¶”ê°€í•˜ê¸°")
        print("4. ì „ì²´ ì½˜í…ì¸  ëª©ë¡ ë³´ê¸°")
        print("5. ì €ì¥ëœ ì½˜í…ì¸  ê°œìˆ˜ í™•ì¸")
        print("0. ì¢…ë£Œí•˜ê¸°")

        choice = input("ğŸ‘‰ ì„ íƒ (ìˆ«ì ì…ë ¥): ").strip()

        if choice == "1":
            rec_list.show_all_kinds()
            kind = input("\nì½˜í…ì¸  ì¢…ë¥˜ ì„ íƒ: ").strip()
            rec_list.show_genres_by_kind(kind)
            genre = input("ì¥ë¥´ ì„ íƒ: ").strip()
            rec_list.recommend(kind, genre)

        elif choice == "2":
            rec_list.show_five_star_contents()

        elif choice == "3":
            print("\nâœï¸ ìƒˆ ì½˜í…ì¸  ì…ë ¥:")
            title = input("ì œëª©: ").strip()
            kind = input("ì¢…ë¥˜ (ì˜ˆ: ì• ë‹ˆë©”ì´ì…˜, ë“œë¼ë§ˆ ë“±): ").strip()
            genre = input("ì¥ë¥´ (ì˜ˆ: ë¡œë§¨ìŠ¤, ì¶”ë¦¬ ë“±): ").strip()
            while True:
                try:
                    rating = int(input("ë³„ì  (1~5): ").strip())
                    if 1 <= rating <= 5:
                        break
                    else:
                        print("1~5 ì‚¬ì´ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.")
                except:
                    print("ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.")
            comment = input("í•œì¤„ ì½”ë©˜íŠ¸: ").strip()
            rec_list.add_content(Content(title, kind, genre, rating, comment))
            print(f"âœ… '{title}' ì¶”ê°€ ì™„ë£Œ!")

        elif choice == "4":
            rec_list.show_all_contents()

        elif choice == "5":
            rec_list.content_count()

        elif choice == "0":
            print("ğŸ‘‹ í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•©ë‹ˆë‹¤. ì¢‹ì€ í•˜ë£¨ ë³´ë‚´ì„¸ìš”!")
            break

        else:
            print("â—ì˜¬ë°”ë¥¸ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.")

if __name__ == "__main__":
    main()
